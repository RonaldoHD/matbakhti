<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">

  <title>Portfolio Details - Ninestars Bootstrap Template</title>
  <meta content="" name="description">
  <meta content="" name="keywords">

  <!-- Favicons -->
  <link href="assets/img/matbakhlogo-removebg.png" rel="icon">
  <link href="assets/img/matbakhlogo-removebg.png" rel="apple-touch-icon">

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Raleway:300,300i,400,400i,600,600i,700,700i" rel="stylesheet">

  <!-- Vendor CSS Files -->
  <link href="assets/vendor/aos/aos.css" rel="stylesheet">
  <link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link href="assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
  <link href="assets/vendor/boxicons/css/boxicons.min.css" rel="stylesheet">
  <link href="assets/vendor/glightbox/css/glightbox.min.css" rel="stylesheet">
  <link href="assets/vendor/swiper/swiper-bundle.min.css" rel="stylesheet">

  <!-- Template Main CSS File -->
  <link href="assets/css/style.css" rel="stylesheet">

  <script type="text/javascript"
  src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js">
</script>
<script type="text/javascript">
(function(){
emailjs.init("M-OByAH1z6A57nFVQ");
})();
</script>
  <!-- =======================================================
  * Template Name: Ninestars
  * Updated: Jul 27 2023 with Bootstrap v5.3.1
  * Template URL: https://bootstrapmade.com/ninestars-free-bootstrap-3-theme-for-creative/
  * Author: BootstrapMade.com
  * License: https://bootstrapmade.com/license/
  ======================================================== -->
</head>

<style>
  .title{
    margin-bottom: 5vh;
}
.parent {
  border-top: 1px solid grey;
  padding: 2rem 2rem;
  text-align: center;
  display: inline-flex;
  justify-content: space-between;
  position: absolute;
  bottom: 0;
  width: 100%;
}
.child {
  display: inline-block;
  padding: 1rem 1rem;
  vertical-align: middle;
}
.card{
    margin: auto;
    max-width: 950px;
    width: 90%;
    box-shadow: 0 6px 20px 0 rgba(0, 0, 0, 0.19);
    border-radius: 1rem;
    border: transparent;
}
@media(max-width:767px){
    .card{
        margin: 3vh auto;
    }
}
.cart{
    background-color: #fff;
    padding: 4vh 5vh;
    border-bottom-left-radius: 1rem;
    border-top-left-radius: 1rem;
    width: 100%;
}
@media(max-width:767px){
    .cart{
        padding: 4vh;
        border-bottom-left-radius: unset;
        border-top-right-radius: 1rem;
    }
}
.summary{
    background-color: #ddd;
    border-top-right-radius: 1rem;
    border-bottom-right-radius: 1rem;
    padding: 4vh;
    color: rgb(65, 65, 65);
}
@media(max-width:767px){
    .summary{
    border-top-right-radius: unset;
    border-bottom-left-radius: 1rem;
    }
}
.summary .col-2{
    padding: 0;
}
.summary .col-10
{
    padding: 0;
}.row{
    margin: 0;
}
.title b{
    font-size: 1.5rem;
}
.main{
    margin: 0;
    padding: 2vh 0;
    width: 100%;
}
.col-2, .col{
    padding: 0 1vh;
}
a{
    padding: 0 1vh;
}
.close{
    margin-left: auto;
    font-size: 0.7rem;
}
img{
    width: 3.5rem;
}
.back-to-shop{
    margin-top: 4.5rem;
}
h5{
    margin-top: 4vh;
}
hr{
    margin-top: 1.25rem;
}
form{
    padding: 2vh 0;
}
select{
    border: 1px solid rgba(0, 0, 0, 0.137);
    padding: 1.5vh 1vh;
    margin-bottom: 4vh;
    outline: none;
    width: 100%;
    background-color: rgb(247, 247, 247);
}
input{
    border: 1px solid rgba(0, 0, 0, 0.137);
    padding: 1vh;
    margin-bottom: 4vh;
    outline: none;
    width: 100%;
    background-color: rgb(247, 247, 247);
}
input:focus::-webkit-input-placeholder
{
      color:transparent;
}

a{
    color: black; 
}
a:hover{
    color: black;
    text-decoration: none;
}
 #code{
    background-image: linear-gradient(to left, rgba(255, 255, 255, 0.253) , rgba(255, 255, 255, 0.185)), url("https://img.icons8.com/small/16/000000/long-arrow-right.png");
    background-repeat: no-repeat;
    background-position-x: 95%;
    background-position-y: center;
}
</style>

<body>

  <!-- ======= Header ======= -->
  <header id="header" class="fixed-top d-flex align-items-center">
    <div class="container d-flex align-items-center justify-content-between">

      <div class="logo">
        <h1 class="text-light"><a href="index.html"><span>Matbakhti</span></a></h1>
        <!-- Uncomment below if you prefer to use an image logo -->
        <!-- <a href="index.html"><img src="assets/img/logo.png" alt="" class="img-fluid"></a>-->
      </div>

      <nav id="navbar" class="navbar">
        <ul>
          <li><a class="nav-link scrollto " href="/">Home</a></li>
          <li><a class="nav-link scrollto" href="#about">About Us</a></li>
          <li><a class="nav-link scrollto" href="#services">Services</a></li>
          <li><a class="nav-link scrollto" href="#portfolio">Producta</a></li>
          <li><a class="nav-link scrollto" data-bs-toggle="offcanvas" href="#offcanvasExample" role="button" aria-controls="offcanvasExample"  >Cart</a></li>
          <li><a class="getstarted scrollto" href="/#contact">Contact</a></li>
        </ul>
        <i class="bi bi-list mobile-nav-toggle"></i>
      </nav><!-- .navbar -->

    </div>
  </header><!-- End Header -->


  <!--Sidebar-->

  <div class="offcanvas offcanvas-start" tabindex="-1" id="offcanvasExample" aria-labelledby="offcanvasExampleLabel">

 
 
        <div class="col-md-8 cart">
            <div class="title">
                <div class="row">
                    <div class="col"><h4><b>My Cart</b></h4></div>
                    <div class="col align-self-center text-right text-muted">items</div>
                    <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>

                </div>
            </div>    
            <div class="row border-top border-bottom">
                <!-- <div class="row main align-items-center">
                    <div class="col-2"><img class="img-fluid" src="https://i.imgur.com/1GrakTl.jpg"></div>
                    <div class="col">
                        <div class="row text-muted">Shirt</div>
                        <div class="row">Cotton T-shirt</div>
                    </div>
                    <div class="col">
                        <a href="#">-</a><a href="#" class="border">1</a><a href="#">+</a>
                    </div>
                    <div class="col">&euro; 44.00 <span class="close">&#10005;</span></div>
                </div> -->
            </div>
            <!-- <div class="row">
                <div class="row main align-items-center">
                    <div class="col-2"><img class="img-fluid" src="https://i.imgur.com/ba3tvGm.jpg"></div>
                    <div class="col">
                        <div class="row text-muted">Shirt</div>
                      
                    </div>
                    <div class="col">
                        <a href="#" class="border">1</a>
                    </div>
                    <div class="col"> 44.00 <span class="close">&#10005;</span></div>
                </div>
            </div> -->
            <!-- <div class="row border-top border-bottom">
                <div class="row main align-items-center">
                    <div class="col-2"><img class="img-fluid" src="https://i.imgur.com/pHQ3xT3.jpg"></div>
                    <div class="col">
                        <div class="row text-muted">Shirt</div>
                        <div class="row">Cotton T-shirt</div>
                    </div>
                    <div class="col">
                        <a href="#">-</a><a href="#" class="border">1</a><a href="#">+</a>
                    </div>
                    <div class="col">&euro; 44.00 <span class="close">&#10005;</span></div>
                </div>
            </div> -->
        </div>
        <!-- <div class="col-md-4 summary">
            <div><h5><b>Summary</b></h5></div>
            <hr>
            <div class="row">
                <div class="col" style="padding-left:0;">ITEMS 3</div>
                <div class="col text-right">&euro; 132.00</div>
            </div>
            <form>
                <p>SHIPPING</p>
                <select><option class="text-muted">Standard-Delivery- &euro;5.00</option></select>
                <p>GIVE CODE</p>
                <input id="code" placeholder="Enter your code">
            </form>
            <div class="row" style="border-top: 1px solid rgba(0,0,0,.1); padding: 2vh 0;">
                <div class="col">TOTAL PRICE</div>
                <div class="col text-right">&euro; 137.00</div>
            </div>
            <button class="btn">CHECKOUT</button>
        </div> -->

        <div class="parent"  >

          <div class="child" ><b>Total :</b> <p id="total" ></p></div>
          <div class="child"  >
            <button type="button" class="btn btn-danger" data-bs-toggle="modal" data-bs-target="#exampleModal">
              Checkout
            </button>
          </div>
         </div>
</div>

</body>

  <!-- ======= Modal ======= -->
  <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h1 class="modal-title fs-5" id="exampleModalLabel">Fill this form and our team will contact you</h1>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <div class="mb-3">
            <label for="exampleFormControlInput1" class="form-label">Name</label>
            <input type="email" class="form-control" id="order_name"  placeholder="name">
          </div>
          <div class="mb-3">
            <label for="exampleFormControlInput1" class="form-label">Email address</label>
            <input type="email" class="form-control" id="order_email" placeholder="name@example.com">
          </div>
          <div class="mb-3">
            <label for="exampleFormControlInput1" class="form-label">Phone</label>
            <input type="email" class="form-control" id="order_phone" placeholder="Phone">
          </div>
        </div>
        <div class="modal-footer">
          
          <button type="button" class="btn btn-danger" onclick="SendMail()">Submitt</button>
        </div>
      </div>
    </div>
  </div>
  <!-- ======= ModalEnd ======= -->


  <!--Sidebar End -->
  <main id="main">

    <!-- ======= Breadcrumbs Section ======= -->
    <section class="breadcrumbs">
      <div class="container">

        <div class="d-flex justify-content-between align-items-center">
          <h2>Product Details</h2>
          <ol>
            <li><a href="index.html">Home</a></li>
            <li>Product Details</li>
          </ol>
        </div>

      </div>
    </section><!-- Breadcrumbs Section -->

    <!-- ======= Portfolio Details Section ======= -->
    <section id="portfolio-details" class="portfolio-details">
      <div class="container">

        <div class="row gy-4">

          <div class="col-lg-8">
            <div class="portfolio-details-slider swiper">
              <div class="swiper-wrapper align-items-center">

                <!-- <div class="swiper-slide">
                  <img src="./assets/img/juice1.png" alt="">
                </div> -->

            


              </div>
              <div class="swiper-pagination"></div>
            </div>
          </div>
<div class="col-lg-4">
  <div class="portfolio-info">
    <h3 id="ProductName">Project information</h3>
    <ul>
      <li><strong>Price : </strong><span id="ProductPrice"></span></li>
      <li><strong>Description <br> </strong><span id="ProductDesc"></span></li>
     
      <li><strong>Features  <br> </strong><span id="ProductFeat"></span> <br></li>
      <ul id="ProductSpecs" style="margin: 10px;"> <Strong>Specifications</Strong> <br>
        <!-- Specifications will be dynamically added here -->
      </ul>
    </ul>

      <strong>Quantity</strong><input class="quantity" type="number" id="quantity" value="1" >
      <div class="detailbuttons" >
       
        <button  type="button" class="btn btn-danger" data-bs-toggle="modal" data-bs-target="#staticBackdrop" onclick="addto()"   >Add to Cart</button>


        <div class="modal fade" id="staticBackdrop" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
          <div class="modal-dialog">
            <div class="modal-content">
              <div class="modal-header">
                <h1 class="modal-title fs-5" id="staticBackdropLabel">Message</h1>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              <div class="modal-body">
                Product added to cart
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-danger" onclick="window.location.reload()" data-bs-dismiss="modal">Close</button>
              </div>
            </div>
          </div>
        </div>
        
      </div>
  

  </div>

</div>

        </div>

      </div>
    </section><!-- End Portfolio Details Section -->
  
  </main><!-- End #main -->

  <!-- ======= Footer ======= -->
  <footer id="footer">

    <!-- <div class="footer-newsletter">
      <div class="container">
        <div class="row justify-content-center">
          <div class="col-lg-6">
            <h4>Join Our Newsletter</h4>
            <p>Tamen quem nulla quae legam multos aute sint culpa legam noster magna</p>
            <form action="" method="post">
              <input type="email" name="email"><input type="submit" value="Subscribe">
            </form>
          </div>
        </div>
      </div>
    </div> -->

    <div class="footer-top">
      <div class="container">
        <div class="row">

          <div class="col-lg-3 col-md-6 footer-contact">
            <h3>Matbakhti</h3>
            <strong>Adress:</strong> Saudi Arabia, Riyadh<br>
              <strong>Phone:</strong>  +966 11 510 7127<br>
              <strong>Email:</strong>  Info@matbakhti.com<br>
            </p>
          </div>

          <div class="col-lg-3 col-md-6 footer-links">
            <h4>Useful Links</h4>
            <ul>
              <li><i class="bx bx-chevron-right"></i> <a href="#">Home</a></li>
              <li><i class="bx bx-chevron-right"></i> <a href="#">About us</a></li>
              <li><i class="bx bx-chevron-right"></i> <a href="#">Services</a></li>
              <li><i class="bx bx-chevron-right"></i> <a href="#">Terms of service</a></li>
            </ul>
          </div>

       

          <div class="col-lg-3 col-md-6 footer-links">
            <h4>Our Social Networks</h4>
            <p>Cras fermentum odio eu feugiat lide par naso tierra videa magna derita valies</p>
            <div class="social-links mt-3">
              <a href="https://www.tiktok.com/@matbakhti" class="facebook"><i class="bx bxl-tiktok"></i></a>
              <a href="https://instagram.com/matbakhti?igshid=MzRlODBiNWFlZA==" class="instagram"><i class="bi bi-instagram"></i></a>
            </div>
          </div>

        </div>
      </div>
    </div>

  
  </footer><!-- End Footer -->

  <a href="https://wa.link/mr4u2q" class="back-to-top d-flex align-items-center justify-content-center"><i class="bi bi-whatsapp"></i></a>

  <!-- Vendor JS Files -->
  <script src="assets/vendor/aos/aos.js"></script>
  <script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
  <script src="assets/vendor/glightbox/js/glightbox.min.js"></script>
  <script src="assets/vendor/isotope-layout/isotope.pkgd.min.js"></script>
  <script src="assets/vendor/swiper/swiper-bundle.min.js"></script>
  <script src="assets/vendor/php-email-form/validate.js"></script>

  <!-- Template Main JS File -->
  <script src="assets/js/main.js"></script>

  <script>
      const urlParams = new URLSearchParams(window.location.search);
      const productName = urlParams.get('product');

      fetch('./products.json')
  .then(res => res.json())
  .then(data => {
  
     document.getElementById('ProductName').innerHTML=data[productName].name
     document.getElementById('ProductPrice').innerHTML =data[productName].price
     document.getElementById('ProductDesc').innerHTML =data[productName].description
     document.getElementById('ProductFeat').innerHTML =data[productName].features

   

     

     const productSpecs = document.getElementById('ProductSpecs');
        for (const spec in data[productName].specifications) {
          const specItem = document.createElement('p');
          specItem.innerHTML = `<strong>${spec}:</strong> ${data[productName].specifications[spec]}`;
          productSpecs.appendChild(specItem);
        }


        
        const swiperWrapper = document.querySelector('.swiper-wrapper');

for (const image of data[productName].images) {
  const swiperSlide = document.createElement('div');
  swiperSlide.className = 'swiper-slide';

  const imageElement = document.createElement('img');
  imageElement.src = `./assets/img/${image}`;
  imageElement.alt = '';

  swiperSlide.appendChild(imageElement);
  swiperWrapper.appendChild(swiperSlide);

}



  });

  function addto(){
    fetch('./products.json')
  .then(res => res.json())
  .then(data => {
let cartItems = JSON.parse(sessionStorage.getItem('CartItems')) || [];

cartItems.push({ image: data[productName].image ,name:  document.getElementById('ProductName').innerHTML,  qty :  document.getElementById('quantity').value ,price:  document.getElementById('ProductPrice').innerHTML* document.getElementById('quantity').value,});
sessionStorage.setItem('CartItems', JSON.stringify(cartItems));

  })
}

  



  const getitems = JSON.parse(sessionStorage.getItem('CartItems')) || [];
 var total=0
getitems.forEach((item, index) => {
  total=total+item.price
  const newItemDiv = document.createElement('div');
  newItemDiv.classList.add('row', 'main', 'align-items-center');
  newItemDiv.innerHTML = `
  <div class="col-2"><img class="img-fluid" src='./assets/img/${item.image}'/></div>
<div class="col">
    <div class="row text-muted">${item.name}</div>
</div>
<div class="col">
    <a href="#" class="border">${item.qty}</a>
</div>
<div class="col">${item.price} $ <span class="close">&#10005;</span></div>
`;

  const containerDiv = document.createElement('div');
  containerDiv.classList.add('row');
  containerDiv.appendChild(newItemDiv);

  document.querySelector('.col-md-8.cart').appendChild(containerDiv);

  // Add event listener to the close button
  const closeButton = newItemDiv.querySelector('.close');
  closeButton.addEventListener('click', () => {
    // Remove item from session storage
    getitems.splice(index, 1);
    sessionStorage.setItem('CartItems', JSON.stringify(getitems));
    
    // Remove the container from the DOM
    containerDiv.remove();

  });
});
document.getElementById('total').innerText=total+' SAR'


  </script>

<script>
  function SendMail() {
      var items = sessionStorage.getItem('CartItems');
      console.log(items);
  
      var itemsArray = JSON.parse(items);
      
      var itemsContent = '';
      itemsArray.forEach(item => {
          itemsContent += `Item: ${item.name}, Price: ${item.price}  
            `; // Use <br> for line breaks
      });
  
      var params = {
          order_name: document.getElementById('order_name').value,
          order_email: document.getElementById('order_email').value,
          order_phone: document.getElementById('order_phone').value,
          message: itemsContent+'Total : '+document.getElementById('total').innerHTML,
      };
  
      emailjs.send("service_x7nigaa", "template_28scrw7", params).then(function(res) {
          alert("Success!" + res.status);
      });
  }
  </script>

</body>

</html>